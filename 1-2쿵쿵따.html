<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>쿵쿵따 2트</title>
<style>
</style>
</head>
<body>
<div><span id="order">1</span>번째 참가자</div>
<div>제시어:<span id="word"></span></div>
<input type="text">
<button>입력</button>
<script>
const number = Number(prompt('몇 명이 참가하나요?'));//참가인원수 결정 입력창
if (number != 0 && number <= 10) {//취소를 누르지 않았을때
alert((number) + '명이 참가합니다');

const $button = document.querySelector('button');//입력 버튼
const $input = document.querySelector('input');//텍스트 입력 상자
const $word = document.querySelector('#word');//id가word인 tag,제시어:n의 n  부분
const $order = document.querySelector('#order');//id가order인 tag,n번째 참가자의 n부분
let word;//제시어
let newWord;//새로 입력한 단어

const onClickButton = () => {//button click 할때 일어나는 event
if (newWord.length == 3) {//입력한 단어가 3글자인가
  if (!word || word[word.length - 1] === newWord[0]) {//제시어가 비어 있는가? or 제시어의 마지막 단어와 입력한 단어의 첫단어가 같은가 ?
    //제시어가 비어있거나 제시어의 마지막 단어와 입력한 단어의 첫단어가 같다
    word = newWord;// input한 word가 제시어가 된다
    $word.textContent = word;//제시어가 된 부분을 화면으로 출력한다
    const order = Number($order.textContent);// 현재 순서
    if (order + 1 > number) {//현재 순서 +1 > 참가자 수
      $order.textContent = 1;//순서가 1이 된다
    } else {
      $order.textContent = order + 1;//현재 순서에서 1을 더한다
    };
  } else {//올바르지 않은가
    alert('올바르지 않은 단어입니다')
  }
} else {//3글자가 아닐 시
  alert('3글자를 입력해주세요')
}
$input.value = '';//버튼을 클릭 시 input을 다시 빈칸으로 돌린다
$input.focus();//버튼을 클릭 시 input창에 커서를 둔다

};


const onInput = (event) => {//text input box 에 input할때 일어나는 event
newWord = event.target.value;//input에 담긴 입력값 받기
};

$button.addEventListener('click', onClickButton);
$input.addEventListener('input', onInput);

} else if (number > 10 || number <= -1) {
alert('1명부터 10명까지 참가 가능합니다');
} else {
alert('숫자를 입력하고 확인을 눌러주세요')
}
</script>
</body>

</html>